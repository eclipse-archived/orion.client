<!DOCTYPE html>
<html>
<head>
	<script src="../../orion/plugin.js"></script>
	<script src="../../requirejs/require.js"></script>
	<script type="text/javascript">
	/*global window define require*/
	require({
		  baseUrl: '../..',
		  packages: [
		    {
		      name: 'dojo',
		      location: 'org.dojotoolkit/dojo',
		      main: 'lib/main-browser',
		      lib: '.'
		    },
		    {
		      name: 'dijit',
		      location: 'org.dojotoolkit/dijit',
		      main: 'lib/main',
		      lib: '.'
		    },
		    {
		      name: 'dojox',
		      location: 'org.dojotoolkit/dojox',
		      main: 'lib/main',
		      lib: '.'
		    }		    
		  ],
		  paths: {
			  text: 'requirejs/text',
			  i18n: 'requirejs/i18n'	    
		  }
		});
	</script>
	<script type="text/javascript">
	var exports = {};
	var module = {};
	
	// needed for FF 3.6
	if (!Object.keys) {
		Object.keys = function(obj) {
			var key,
				keys = [];
		    for (key in obj) {
		        if (obj.hasOwnProperty(key)) {
		            keys.push(key);
		        }
		    }
		    return keys;
		};
	}
	
	define("assert", ["orion/assert"], function(assert) {
		return assert;
	});
	
	define("test", ["orion/test"], function(test) {
		return test;
	});
	window.onload = function() {
		require(['test', 'assert'], function(test) {
			require(["https://github.com/commonjs/commonjs/raw/master/tests/unit-testing/1.0/program.js"], function(a) {
				test.run(exports);			
			});
		});
	};
	</script>
</head>
<body>
</body>
</html>